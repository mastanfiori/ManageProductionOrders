/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/core/mvc/Controller","sap/i2d/mpe/lib/commons1/utils/formatter","sap/ui/model/resource/ResourceModel"],function(C,f,R){"use strict";return C.extend("i2d.mpe.orders.manages1.blocks.InspectionBlockController",{formatter:f,onInit:function(){this.oCommonI18NModel=f._i18n;if(!this.oCommonI18NModel){this.oCommonI18NModel=this.loadI18NFile();}this.getView().setModel(this.oCommonI18NModel,"common_i18n");},loadI18NFile:function(){var i=jQuery.sap.getModulePath("sap.i2d.mpe.lib.commons1")+"/"+"i18n/i18n.properties";return new R({bundleUrl:i});},getI18NCommonText:function(i,v){return this.getView().getModel("common_i18n").getResourceBundle().getText(i,v);},onHandleRebindInspectionLotBlock:function(e){var m=this.getView().getModel("DetailModel");var o=m.getData();this.sOrderId=o.orderId;var O=e.getSource().getModel().oData[this.sOrderId];var M;if(O){M=O.ManufacturingOrder;}if(o.selectedOrderData&&M===undefined){M=o.selectedOrderData.ManufacturingOrder;}var l=e.getParameter("bindingParams");var a=l.filters;var F=new sap.ui.model.Filter([],true);if(M){F.aFilters.push(new sap.ui.model.Filter("ManufacturingOrder",sap.ui.model.FilterOperator.EQ,M));a.push(F);}},handleInspectionLotSelect:function(e){var c=e.getParameter("listItem").getBindingContext().getObject();var p={"InspectionLot":c.InspectionLot};var o=sap.ushell.Container.getService("CrossApplicationNavigation");o.toExternal({target:{semanticObject:"InspectionLot",action:"display"},params:p});}});});
